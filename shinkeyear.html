<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>第四問</title>
  <link rel="stylesheet" href="./asset/css/Question4.css">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <script src="./asset/js/jquery-3.5.1.min.js"></script>
</head>
<body>
  <h2>最終問題です。<br>
      初めに、いまこの画面にある物3分以内に<br>
      上か右のヒントからおおきい順に探してください。
  </h2>
  <div class="flexbox">
    <ul class="thumnail-right-box flex-box">

      <li><span class="canclick" id="J">
          <p>J</p></span></li>
      <li><span class="canclick" id="M">
          <p>M</p></span></li>
      <li><span class="canclick" id="C">
          <p>C</p></span></li>
      <li><span class="canclick" id="V">
          <p>V</p></span></li>
      <li><span class="canclick" id="F">
          <p>F</p></span></li>

      <li><span> <img src="img/barrel.png"> <span class="canclick" id="R">
            <p>R</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="H">
            <p>H</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="P">
            <p>P</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="B">
            <p>B</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="G">
            <p>G</p></span></span></li>
      <br>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="A">
            <p>A</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="U">
            <p>U</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="D">
            <p>D</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="S">
            <p>S</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="O">
            <p>O</p></span></span></li>
      <br>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="N">
            <p>N</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="E">
            <p>E</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="Y">
            <p>Y</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="I">
            <p>I</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick" id="T">
            <p>T</p></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick"></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick"></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick"></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick"></span></span></li>
      <li><span> <img src="img/barrel.png"> <span class="canclick"></span></span></li>

    </ul>
  </div>
</body>
<script type="text/javascript">
  //windowの読み込みが終わったら実行される
  $(function () {
    var allcanclickByClass = document.getElementsByClassName("canclick");
    var string = ""
    //どれをクリックしたかの履歴を管理する配列を用意
    var domArray = []
    $(".canclick").on('click', function (e) {
      //e(クリックされたものの情報)を配列にぶちこむ
      domArray[domArray.length] = e.target
      //押されたものの中身を取得する
      //canClickというクラスの対象要素に
      //対象要素.on( イベント名, function(e) )
      // console.log(e.target.innerText)
      //文字列に押された中身を追加する ''はクリックされたもの　
      //innertextは指定したタグ間の内容を取得
      //e.targetでクリックした箇所のオブジェクト要素を取得出来る
      string = string.concat('', e.target.innerText)
      e.target.style.color = "red"
      // console.log("string : " + +string)
      //文字列の長さが3を超えたら不要な分を消す
      if(string.length===4){
         //最初の文字の色を変える
        domArray[0].style.color = "black"
        domArray = domArray.slice(1, 4)
        string = string.slice(1, 4)
        // domArray[0]
      }
      if (string.length === 3 && string === "GYM") {
        location.href = "clear.html";
      }

    })
  })

</script>
</html>
